---
title: Cache
group: Libraries
description: Caching solutions with support for multiple backends.
---

import { Card, CardGrid, LibraryHeader } from '@components/mdx';

<LibraryHeader
	title="Cache"
	description="The Utopia Cache library provides a unified caching interface that works with multiple cache backends, making it easy to implement caching in your applications with minimal code changes."
	tagline="Caching solutions with support for multiple backends"
	githubUrl="https://github.com/utopia-php/cache"
	stars={30}
	category="Data"
/>

## Overview

The Cache library abstracts different caching systems behind a simple, consistent API. Whether you're using Redis, Memcached, or file-based caching, the interface remains the same.

## Key Features

<CardGrid>
	<Card title="Multiple Backends" icon="blocks" gradient="blue">
		Support for Redis, Memcached, APCu, and file-based caching.
	</Card>
	<Card title="Simple API" icon="brush" gradient="purple">
		Clean, intuitive interface for all cache operations.
	</Card>
	<Card title="TTL Support" icon="lightbulb" gradient="orange">
		Built-in time-to-live support for automatic expiration.
	</Card>
	<Card title="High Performance" icon="sparkles" gradient="green">
		Optimized for speed with minimal overhead.
	</Card>
</CardGrid>

## Quick Start

### Installation

```bash
composer require utopia-php/cache
```

### Basic Usage

```php
<?php

require_once __DIR__ . '/vendor/autoload.php';

use Utopia\Cache\Cache;
use Utopia\Cache\Adapter\Redis;

// Initialize cache with Redis adapter
$redis = new Redis('127.0.0.1', 6379);
$cache = new Cache($redis);

// Store data in cache
$cache->save('user:123', ['name' => 'John Doe', 'email' => 'john@example.com'], 3600);

// Retrieve data from cache
$user = $cache->load('user:123');

// Check if key exists
if ($cache->exists('user:123')) {
    echo "User data is cached";
}

// Delete from cache
$cache->purge('user:123');

// Clear all cache
$cache->flush();
```

## Supported Backends

- **Redis** - In-memory data structure store
- **Memcached** - Distributed memory caching system
- **APCu** - User Cache for PHP
- **File** - File-based caching system
- **Memory** - In-memory caching for testing

## API Reference

### Cache Class

The main cache class that handles all caching operations.

#### Methods

- `save(string $key, mixed $data, int $ttl = 0)` - Store data in cache
- `load(string $key)` - Retrieve data from cache
- `exists(string $key)` - Check if key exists in cache
- `purge(string $key)` - Remove specific key from cache
- `flush()` - Clear all cache data
- `ping()` - Test cache connection

### Adapters

Each cache backend has its own adapter class:

- `Redis` - Redis adapter
- `Memcached` - Memcached adapter
- `APCu` - APCu adapter
- `File` - File adapter
- `Memory` - Memory adapter

## Examples

### Cache with TTL

```php
// Cache user data for 1 hour
$cache->save('user:123', $userData, 3600);

// Cache API response for 5 minutes
$cache->save('api:users', $apiResponse, 300);
```

### Cache Tags

```php
// Store with tags for easy cleanup
$cache->save('user:123', $userData, 3600, ['users', 'profile']);
$cache->save('user:456', $userData2, 3600, ['users', 'profile']);

// Purge all cache entries with 'users' tag
$cache->purgeByTag('users');
```

### Cache Warming

```php
// Warm up cache with frequently accessed data
$popularUsers = $database->find('users', ['popular' => true]);

foreach ($popularUsers as $user) {
    $cache->save("user:{$user->getId()}", $user->toArray(), 7200);
}
```

## Performance Tips

- **Use appropriate TTL**: Set reasonable expiration times based on data freshness requirements
- **Batch operations**: Use `mget`/`mset` for multiple keys when possible
- **Monitor memory usage**: Keep an eye on cache memory consumption
- **Use compression**: Enable compression for large cached objects

## Configuration

```php
// Redis configuration
$redis = new Redis('127.0.0.1', 6379, [
    'timeout' => 5,
    'retry_interval' => 100,
    'read_timeout' => 0,
    'persistent' => true
]);

// Memcached configuration
$memcached = new Memcached('127.0.0.1', 11211, [
    'timeout' => 1,
    'retry_interval' => 15,
    'retry_times' => 3
]);
```

## GitHub Repository

[View on GitHub](https://github.com/utopia-php/cache) • ⭐ 30 stars

## Related Libraries

- [Database](/database) - Database layer for cache warming
- [HTTP](/http) - Web framework with cache integration
- [Logger](/logger) - Cache operation logging

