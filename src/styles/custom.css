@tailwind base;
@tailwind components;
@tailwind utilities;

/* Theme Variables */
:root {
	--color-text-primary: #2d2d31;
	--color-text-secondary: #56565c;
	--prism-background: theme('colors.white');
	--prism-color: theme('colors.neutral.800');
}

:root.dark {
	--color-text-primary: theme('colors.white');
	--color-text-secondary: theme('colors.neutral.300');
	--prism-background: theme('colors.neutral.800');
	--prism-color: theme('colors.neutral.200');
}

/* Prose Styles */
.prose {
	@apply text-[color:var(--color-text-secondary)];
}

.prose h1,
.prose h2,
.prose h3,
.prose h4,
.prose h5,
.prose h6 {
	@apply scroll-mt-20 font-medium text-[color:var(--color-text-primary)];
}

.prose {
	h1 {
		@apply mb-8 text-4xl;
	}
	h2 {
		@apply mb-6 mt-12 text-2xl;
	}
	h3 {
		@apply mb-4 mt-0 text-xl;
	}
	p {
		@apply mb-6 leading-7;
	}

	a {
		@apply font-normal text-[#19191C] no-underline hover:underline dark:text-gray-300;
	}

	ul {
		@apply mb-6 list-disc pl-6;
	}
	ol {
		@apply mb-6 list-decimal pl-6;
	}
	li {
		@apply mb-2;
	}

	table {
		@apply mb-6 w-full;
	}
	th {
		@apply border-b-2 border-gray-200 px-4 py-2 text-left font-medium dark:border-neutral-700;
	}
	td {
		@apply border-b border-gray-200 px-4 py-2 dark:border-neutral-700;
	}

	blockquote {
		@apply my-6 border-l-4 border-gray-200 pl-4 italic dark:border-neutral-700;
	}
}

/* Code Blocks */
.prose {
	pre,
	pre[class^='language-'],
	pre[data-language] {
		color: var(--prism-color);
		background-color: var(--prism-background) !important;
		@apply my-0 overflow-x-auto rounded-none border-t border-[#EDEDF0] p-2 dark:border-neutral-800;
	}

	:not(pre) > code {
		@apply bg-white p-0.5 dark:bg-neutral-800;
	}

	code {
		@apply p-[8px_0] font-mono text-sm;
	}

	code[class*='language-'] {
		@apply bg-transparent p-0;
		color: var(--prism-color);
	}

	pre.line-numbers {
		position: relative;
		counter-reset: code-line;
	}

	pre.line-numbers code .code-line {
		max-height: 20px;
		text-align: right;
		padding-left: 2.5rem;
	}

	pre.line-numbers code .code-line::before {
		left: 0;
		width: 1.5rem;
		color: #97979b;
		text-align: right;
		position: absolute;
		counter-increment: code-line;
		content: counter(code-line);
	}
}

/* Prism Token Styles */
.token {
	&.comment,
	&.prolog,
	&.doctype,
	&.cdata {
		@apply text-gray-500 dark:text-gray-400;
	}

	&.punctuation {
		@apply text-gray-700 dark:text-gray-300;
	}

	&.property,
	&.tag,
	&.boolean,
	&.number,
	&.constant,
	&.symbol,
	&.deleted {
		@apply text-blue-600 dark:text-blue-400;
	}

	&.selector,
	&.attr-name,
	&.string,
	&.char,
	&.builtin,
	&.inserted {
		@apply text-green-600 dark:text-green-400;
	}

	&.operator,
	&.entity,
	&.url,
	.language-css &.string,
	.style &.string {
		@apply text-yellow-600 dark:text-yellow-400;
	}

	&.atrule,
	&.attr-value,
	&.keyword {
		@apply text-purple-600 dark:text-purple-400;
	}

	&.function,
	&.class-name {
		@apply text-red-600 dark:text-red-400;
	}

	&.regex,
	&.important,
	&.variable {
		@apply text-orange-600 dark:text-orange-400;
	}
}

/* Layout Components */
.site-title {
	@apply flex items-center gap-2 px-4 py-3 text-lg font-semibold;

	.documentation {
		@apply font-normal text-gray-400;
	}
}

.content-panel {
	@apply max-w-none;
}

main {
	@apply px-8 py-6;
}

/* Navigation */
.sidebar {
	@apply h-full py-4;
}

.nav-section {
	@apply space-y-1;
}

.nav-item {
	@apply block border-none px-4 py-2 text-[15px] text-[color:var(--color-text-secondary)] no-underline transition-colors hover:text-[color:var(--color-text-primary)];

	&[aria-current='page'] {
		@apply bg-[#F4F4F7] font-normal text-[color:var(--color-text-primary)] dark:bg-neutral-800 dark:text-white;
	}
}

.section-header {
	@apply px-4 py-2 text-xs font-medium uppercase tracking-wider text-[color:var(--color-text-primary)] dark:text-gray-500;
}

.nav-items {
	@apply space-y-0.5;
}

/* Section dividers */
.sidebar > div > div:not(:last-child) {
	@apply mb-4 border-b border-gray-100 pb-4 dark:border-neutral-800;
}

/* Mobile Responsiveness */
@media (max-width: 768px) {
	.prose {
		h1 {
			@apply text-3xl;
		}
		h2 {
			@apply text-xl;
		}
		h3 {
			@apply text-lg;
		}
	}
}
